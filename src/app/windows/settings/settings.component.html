<h1>Actions</h1>

<ng-container *ngIf="config.action.type == 'addColumn'">
  <h2>Add Column</h2>
  <div>
    <div class="form-group">
      <label for="exampleFormControlInput1">Column Name</label>
      <input
        [(ngModel)]="config.action.name"
        type="text"
        class="form-control"
        placeholder="e.g. Coin"
      />
    </div>
    <div class="form-group">
      <label for="exampleFormControlSelect1">Input Column</label>
      <select class="form-control" id="exampleFormControlSelect1">
        <option *ngFor="let head of config.headers">{{ head }}</option>
      </select>
    </div>
  </div>

  <hr />

  <ng-container>
    <h3>Actions</h3>
    <table class="table">
      <thead>
        <tr>
          <th>#</th>
          <th>Action</th>
          <th>Params</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let action of pending_actions; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ action.name }}</td>
          <td>{{ action.params }}</td>
        </tr>
      </tbody>
    </table>
  </ng-container>
  <div>
    <div class="form-group mb-2">
      <label for="exampleFormControlSelect1">Action</label>
      <select
        [(ngModel)]="action"
        class="form-control"
        id="exampleFormControlSelect1"
      >
        <option [ngValue]="null" disabled>Select an Action</option>
        <option
          [disabled]="_action.disabled"
          [ngValue]="_action"
          *ngFor="let _action of actions"
        >
          {{ _action.name }}
        </option>
      </select>
    </div>

    <ng-container
      *ngFor="let param_header of action?.param_headers; let i = index"
    >
      <div class="form-group mx-sm-3 mb-2">
        <label class="sr-only">{{ param_header }}</label>
        <input
          [(ngModel)]="action.params[i]"
          class="form-control"
          placeholder="e.g. 9"
        />
      </div>
    </ng-container>
  </div>
  <hr />
  <h2>Sample Output</h2>
  <span>{{ sample_value }}</span>
  <hr />
  <button class="btn btn-sm btn-danger" (click)="goBack()">Back</button
  >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <button class="btn btn-sm btn-success float-end" (click)="add()">
    Add Action
  </button>
  <button class="btn btn-sm btn-primary" (click)="apply()">Apply</button>
</ng-container>
